<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Burrrsprint</title>
    
    <!-- Meta tags for SEO and sharing -->
    <meta name="description" content="Burrrs">
    <meta property="og:title" content="Burrrsprint">
    <meta property="og:description" content="Coming to Berachain Q5 2025">
    <meta property="og:image" content="/poster.jpg">
    <meta property="og:url" content="https://burrrs.com">
    <meta name="twitter:card" content="summary_large_image">
    
    <!-- Favicons -->
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="apple-touch-icon" href="/favicon.png">
    
    <!-- Preload critical assets -->
    <link rel="preload" as="video" href="/video.webm" type="video/webm">
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <div class="video-container" role="presentation" aria-hidden="true">
        <video 
            class="video-background loading" 
            autoplay 
            muted 
            loop 
            playsinline 
            webkit-playsinline
            x5-playsinline
            poster="/poster.jpg"
            id="backgroundVideo"
            defaultMuted>
            <source src="/video.webm" type="video/webm">
            <source src="/video.mp4" type="video/mp4">
        </video>
    </div>

    <div class="social-icons" role="navigation" aria-label="Social media links">
        <a href="https://x.com/Burrrsprint" 
           target="_blank" 
           rel="noopener noreferrer" 
           aria-label="X (formerly Twitter)">
            <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
            </svg>
        </a>
    </div>

    <!-- Error handling and video loading script -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const video = document.getElementById('backgroundVideo');
            const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
            
            function playVideo() {
                if (isIOS) {
                    video.load();
                }
                const playPromise = video.play();
                
                if (playPromise !== undefined) {
                    playPromise.catch(function(error) {
                        console.log("Autoplay prevented:", error);
                        if (isIOS) {
                            document.body.addEventListener('touchstart', function() {
                                video.play();
                            }, { once: true });
                        }
                    }).then(function() {
                        video.classList.remove('loading');
                        video.classList.add('loaded');
                    });
                }
            }

            // Initial setup for iOS
            if (isIOS) {
                video.setAttribute('playsinline', '');
                video.setAttribute('webkit-playsinline', '');
                video.setAttribute('muted', '');
                video.muted = true;
            }

            // Handle video loading
            video.addEventListener('loadeddata', function() {
                video.classList.remove('loading');
                video.classList.add('loaded');
                if (isIOS) {
                    playVideo();
                }
            });

            // Try to play video immediately
            playVideo();

            // Handle video errors
            video.addEventListener('error', function(e) {
                console.error('Error loading video:', e);
                // Keep showing the poster image if video fails
                video.removeAttribute('src'); // Stops loading the video
                video.load(); // Reset the video element to show poster
            });
        });
    </script>

    <!-- GoatCounter analytics -->
    <script data-goatcounter="https://burrrs.goatcounter.com/count"
            async src="//gc.zgo.at/count.js"></script>
</body>
</html>
